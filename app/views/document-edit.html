<!--todo: this gets added for the below changes <div ng-include="'/views/edit-templates.html'"></div>-->

<div>
    <div class="page-header">
        <h1 ng-show="headerDisplay">{{ headerDisplay }}</h1>
        <h1 ng-hide="headerDisplay" i18n="New"></h1>
        <span ng-show="header.TimeStamp">{{ header.TimeStamp | date:'yyyy-MM-dd HH:mm' }}</span>
    </div>
    <tabset>
        <tab>
            <tab-heading i18n="Edit"><span class="i18n"></span></tab-heading>
            <div class="navbar">
                <div class="navbar-inner">
                    <div class="controls">
                        <a href ng-click="choosePath('/document/'+schema)" class="btn">
                            <i class="icon-hand-left"></i>
                        </a>
                        <a href ng-click="toggleInlinePreview()"
                           ng-class="{'btn': config.showInlinePreview, 'btn disabled': !config.showInlinePreview}">
                            <i class="icon-eye-open"></i>
                        </a>
                        <span ng-show="documentDirty">
                            <a href class="btn btn-success" ng-show="documentDirty" ng-click="saveDocument()" i18n="SaveDocument">
                                <i class="icon icon-check icon-white"></i>
                                <span class="i18n"/>
                            </a>
                            <span ng-show="time">
                                <span i18n="DocumentSaved">(<span class="i18n"/></span>
                                <span ng-show="time.days">
                                    <span>{{ time.days }}</span>
                                    <span ng-show="time.days > 1" i18n="Days">
                                        <span class="i18n"/>
                                    </span>
                                    <span ng-show="time.days == 1" i18n="Day">
                                        <span class="i18n"/>
                                    </span>
                                </span>
                                <span ng-show="time.hours">
                                    <span>{{ time.hours }}</span>
                                    <span ng-show="time.hours > 1" i18n="Hours">
                                        <span class="i18n"/>
                                    </span>
                                    <span ng-show="time.hours == 1" i18n="Hour">
                                        <span class="i18n"/>
                                    </span>
                                </span>
                                <span ng-show="time.minutes">
                                    <span>{{ time.minutes }}</span>
                                    <span ng-show="time.minutes > 1" i18n="Minutes">
                                        <span class="i18n"/>
                                    </span>
                                    <span ng-show="time.minutes == 1" i18n="Minute">
                                        <span class="i18n"/>
                                    </span>
                                </span>
                                <span ng-show="!time.days && !time.hours && !time.minutes && time.seconds" i18n="LessThanAMinute">
                                    <span class="i18n"/>
                                </span>
                                <span i18n="Ago"><span class="i18n"/>)</span>
                            </span>
                        </span>
                    </div>
                </div>
            </div>
            <!--todo: this include replaced with the commented section-->
            <div ng-include="'views/panels.html'"></div>
            <!--<div id="panel-container" ng-controller="DocumentPanelArrayController">-->
                <!--<p ng-hide="panels" i18n="NoDocumentToEdit"></p>-->
                <!--<table class="table panels" id="panel-table" ng-show="panels">-->
                    <!--<thead>-->
                    <!--<tr>-->
                        <!--<th ng-repeat="panel in panels" class="panel-header">{{ panel.element | elementTitle }}</th>-->
                    <!--</tr>-->
                    <!--</thead>-->
                    <!--<tbody>-->
                    <!--<tr>-->
                        <!--<td ng-repeat="(panelIndex, panel) in panels"-->
                            <!--class="level{{$index}} bordered-{{!$first}} panel panel-last-{{$last}}">-->

                            <!--<div ng-show="panel.element.elements">-->
                                <!--<ul class="nav nav-pills nav-stacked panel-list">-->
                                    <!--<li ng-repeat="element in panel.element.elements">-->
                                        <!--<a class="level{{ element.classIndex }} link-{{ element.name }}"-->
                                           <!--ng-click="choose($index, $parent.$index)">-->
                                            <!--<span class="link-title">-->
                                                <!--{{ element | elementTitle }}-->
                                                <!--<span ng-show="config.showTranslationEditor"-->
                                                      <!--ng-click="openTitleDialog(element)"-->
                                                      <!--class="badge badge-warning badge-i18n">-->
                                                      <!--<i class="icon-translate icon-white"></i>-->
                                                <!--</span>-->
                                            <!--</span>-->
                                            <!--<span data-ng-controller="ElementEditController"-->
                                                  <!--document-navigation="navigationKeyPressed($key)">-->
                                                <!--<span ng-include="getElementEditor(element)"></span>-->
                                            <!--</span>-->
                                        <!--</a>-->
                                        <!--<div class="icon-container">-->
                                            <!--<span class="icon-item status status-{{ element.invalid }}"></span>-->
                                            <!--<span ng-show="element.config.multiple"-->
                                                  <!--class="display-{{ element.config.multiple }} icon-item pointer"-->
                                                  <!--ng-click="addSibling(panel.element.elements, $index)">-->
                                                <!--<i class="icon-plus-sign icon-white"></i>-->
                                            <!--</span>-->
                                            <!--<span ng-show="element.config.multiple"-->
                                                  <!--class="display-{{ element.config.multiple }} icon-item pointer"-->
                                                  <!--ng-click="removeSibling(panel.element.elements, $index, panelIndex)">-->
                                                <!--<i class="icon-minus-sign icon-white"></i>-->
                                            <!--</span>-->
                                        <!--</div>-->

                                    <!--</li>-->
                                <!--</ul>-->
                            <!--</div>-->

                            <!--<div ng-hide="panel.element.elements">-->
                                <!--<div ng-include="getDetailView(panel.element)"></div>-->
                            <!--</div>-->

                        <!--</td>-->
                    <!--</tr>-->
                    <!--</tbody>-->
                <!--</table>-->
            <!--</div>-->

        </tab>
        <tab>
            <tab-heading i18n="View"><span class="i18n"></span></tab-heading>
            <div>
                <h4>Only show when a value is present</h4>
                <ul class="unstyled value-list">
                    <li ng-repeat="data in tree.elements" ng-include="'tree_item_renderer.html'" ng-show="data.value"></li>
                </ul>
                <h4>Show all</h4>
                <ul class="unstyled value-list">
                    <li ng-repeat="data in tree.elements" ng-include="'tree_item_renderer.html'"></li>
                </ul>
            </div>

            <script type="text/ng-template"  id="tree_item_renderer.html">
                <label class="label">{{data.name}}:</label> <span class="data">{{ data.value }}</span>
                <ul class="value-list" >
                    <li ng-repeat="data in data.elements" ng-include="'tree_item_renderer.html'" ></li>
                </ul>
            </script>
        </tab>
    </tabset>


</div>


