<div class="fade-in">
    <div class="page-header">
        <h1 i18n="Community"><span class="i18n"/></h1>
    </div>

    <!--<input type="file" accept="video/*" capture="camera">-->

    <div class="row widget-row">
        <div class="col-md-4">
            <div class="widget-box oscr-chat">
                <div class="widget-title">
                    <span class="icon"><i class="glyphicon glyphicon-comment"></i></span>
                    <h5 i18n="Chat"><span class="i18n"/></h5>
                </div>
                <div class="widget-body">
                    <div class="message-list">
                        <ul class="list-unstyled list-chat">
                            <li data-ng-repeat="message in chatMessageList">
                                <span class="message-time">{{ message.time | date:'MM/dd@H:mm'}}</span>
                                <span class="label label-default" data-ng-class="{ 'label-primary' : user.Profile.firstName + ' ' + user.Profile.lastName == message.user }">{{ message.user }}</span>
                                <span>{{ message.text }}</span>
                            </li>
                        </ul>
                        <a id="chat-bottom"></a>
                    </div>
                </div>
                <div class="widget-footer">
                    <div class="input-group">
                        <input data-ng-model="chatMessage" data-chat-enter="chatSend(chatMessage)" type="text" class="form-control"/>
                        <span class="input-group-addon  pointer" data-ng-click="chatSend(chatMessage)"><i class="glyphicon glyphicon-comment"></i></span>
                    </div>
                </div>
            </div>
            <div class="widget-box">
                <div class="widget-title">
                    <span class="icon"><i class="glyphicon glyphicon-signal"></i></span>
                    <h5 i18n="GlobalStatistics"><span class="i18n"/></h5>
                </div>
                <div class="widget-body">

                    <ul class="list-group statistics">
                        <li i18n="Groups" class="list-group-item">
                            <i class="glyphicon glyphicon-user"></i>
                            <span class="type i18n"/>
                            <span class="label label-default count">{{ statistics.People.Group }}</span>
                        </li>
                        <li i18n="People" class="list-group-item">
                            <i class="glyphicon glyphicon-user"></i>
                            <span class="type i18n"/>
                            <span class="label label-default count">{{ statistics.People.Person }}</span>
                        </li>
                        <li ng-repeat="schema in statistics.AllPrimary.Schema" class="list-group-item">
                            <i class="glyphicon glyphicon-file"></i>
                            <span i18n="{{schema.Name}}">
                                <span class="type i18n"/>
                            </span>
                            <span class="label label-default count">{{ schema.Count }}</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="col-md-8">
            <div ng-show="logEntries">
                <div class="widget-box">
                    <div class="widget-title">
                        <span class="icon"><i class="glyphicon glyphicon-signal"></i></span>
                        <h5 i18n="RecentActivity"><span class="i18n"/></h5>
                        <span class="label label-primary" data-ng-bind="logEntries.length"></span>
                    </div>
                    <div class="widget-body widget-tall">
                        <table class="table table-striped table-bordered table-oscr">
                            <thead>
                            <tr>
                                <th i18n="When"><span class="i18n"/></th>
                                <th i18n="Who"><span class="i18n"/></th>
                                <th i18n="What"><span class="i18n"/></th>
                                <th i18n="Details"><span class="i18n"/></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr data-ng-repeat="entry in logEntries">
                                <td>
                                    {{ entry.TimeStamp | date:'yyyy-MM-dd HH:mm' }}
                                </td>
                                <td>
                                    <a href ng-click="logEntryWho(entry)" ng-hide="entry.userView" class="fade-out">{{ entry.Who }}</a>
                                    <a href ng-show="entry.userView" class="fade-in" ng-click="logEntryWho(entry)" class="fade-in">{{ entry.userView.Profile.email }}</a>
                                </td>
                                <td>
                                    <span i18n="{{ entry.Op }}"><span class="i18n"/></span>
                                </td>
                                <td>
                                    <a href ng-click="logEntryDetail(entry)">{{ entry | logDetails }}</a>
                                </td>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
