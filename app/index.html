<!doctype html>
<!--[if lt IE 7]>
<html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>
<html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>
<html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html class="no-js" xmlns:ng="http://angularjs.org"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width">
    <!-- build:css styles/main.css -->
    <link rel="stylesheet" href="components/bootstrap/docs/assets/css/bootstrap.css">
    <link rel="stylesheet" href="styles/main.css">
    <!-- endbuild -->
    <style>
        [ng\:cloak], [ng-cloak], [data-ng-cloak], [x-ng-cloak], .ng-cloak, .x-ng-cloak {
            display: none;
        }
    </style>
</head>
<body>
<!--[if lt IE 7]>
<p class="chromeframe">You are using an outdated browser. <a href="http://browsehappy.com/">Upgrade your browser
    today</a> or <a href="http://www.google.com/chromeframe/?redirect=true">install Google Chrome Frame</a> to better
    experience this site.</p>
<![endif]-->

<!--[if lt IE 9]>
<script src="components/es5-shim/es5-shim.js"></script>
<script src="components/json3/lib/json3.min.js"></script>
<![endif]-->

<!-- APPLICATION CONTAINER -->
<div ng-app="OSCR" ng-controller="GlobalController" ng-cloak class="ng-cloak" id="ng-app">
    <div ng-controller="I18NController" class="loggedin-{{ user != undefined }}">
        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container-fluid">

                    <a class="brand" href ng-click="choosePath('/')"><img src="img/logo.png"/>Delving OSCR</a>
                    <ul class="nav " ng-hide="user">
                        <li>
                            <a href ng-click="choosePath('/login')" title="" i18n="Login">
                                <span class="i18n"/>
                            </a>
                        </li>
                    </ul>
                    <ul class="nav" ng-show="user">
                        <li>
                            <a href="#" i18n="LoggedInAs">
                                <i class="icon icon-white icon-user"></i>
                                <span class="i18n"></span>: {{ user.Profile.firstName }} {{ user.Profile.lastName }}
                            </a>
                        </li>
                        <li ng-show="user.god">
                            <!--todo: this is expert functionality-->
                            &nbsp;
                            <select id="membership-select"
                                    ng-model="user.groupIdentifier"
                                    ng-options="um.GroupIdentifier as um.Label for um in userMemberships">
                            </select>
                        </li>
                        <li class="dropdown" ng-hide="user.viewer">
                            <a class="dropdown-toggle" data-toggle="dropdown" href i18n="NewPrimaryDocument">
                                <i class="icon icon-file icon-white"></i> <span class="i18n"></span>
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                                <li ng-repeat="schema in schemaMap.primary">
                                    <a tabindex="-1" href="" ng-click="newDocument(schema)">{{ schema }}</a>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown" ng-show="user.god">
                            <a class="dropdown-toggle" data-toggle="dropdown" href i18n="NewSharedDocument">
                                <i class="icon icon-file icon-white"></i> <span class="i18n"></span>
                                <span class="caret"></span>
                            </a>
                            <ul class="dropdown-menu" role="menu" aria-labelledby="dLabel">
                                <li ng-repeat="schema in schemaMap.shared">
                                    <a tabindex="-1" href="" ng-click="newDocument(schema)">{{ schema }}</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href ng-click="logout()" title="" i18n="Logout">
                                <i class="icon icon-white icon-share-alt"></i> <span class="i18n"/>
                            </a>
                        </li>
                    </ul>

                    <form class="navbar-form pull-right"  ng-show="user">

                        <select id="language-select" class="span2"
                                ng-model="config.interfaceLanguage"
                                ng-options="l.code as l.name for l in config.interfaceLanguages">
                            <option value="">-- Language --</option>
                        </select>
                    </form>

                </div>
                <div class="container-fluid" id="user-controls" ng-show="user.god">
                    <ul class="nav">
                        <li>
                            <a href ng-click="choosePath('/people')">
                                <i class="icon icon-white icon-users"></i> <span>Manage groups & users</span>
                            </a>
                        </li>
                        <li>
                            <a href="/snapshot">
                                <i class="icon icon-white icon-briefcase"></i> <span>Get Snapshot</span>
                            </a>
                        </li>
                        <li>
                            <a href ng-click="toggleTranslationEditor()" ng-class="{'btn-warning': config.showTranslationEditor}">
                                 <i class="icon icon-white icon-translate"></i> <span>Translate UI</span>
                            </a>
                        </li>
                        <li>
                            <a href ng-click="saveLanguage()" title="">
                                <i class="icon icon-white icon-hdd"></i> <span>Save Language</span>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="row-fluid">
            <div id="sidebar" ng-show="sidebarShowing()">
                <div ng-show="config.showTranslationEditor" class="alert">
                    <strong>
                        Translation editor active!
                        <span class="btn btn-small btn-warning"><i class="icon-translate icon-white"></i></span>
                    </strong>
                    <p>
                        While translating all hyperlinks and buttons are disabled. To return to normal navigation of the
                        document turn off the translation editor.
                    </p>
                </div>
                <div class="sidebar-nav">
                    <ul class="nav nav-pills nav-stacked main-menu">
                        <li ng-repeat="link in mainMenuBase" ng-class="{ active: link.active }">
                            <a href ng-click="choosePath(link.path)">
                                <i ng-show="link.icon" class="icon {{ link.icon }}"></i>
                                {{ link | linkTitle }}
                            </a>
                            <span ng-show="config.showTranslationEditor"
                                 ng-click="openLabelDialog(link)"
                                 tooltip="Click to translate"
                                 tooltip-placement="right"
                                 class="badge badge-warning btn-i18n">
                                <i class="icon-translate icon-white"></i>
                            </span>
                        </li>
                     </ul>

                    <ul class="nav nav-pills nav-stacked main-menu">
                        <li ng-repeat="link in mainMenuPrimary" ng-class="{ active: link.active }">
                            <a href ng-click="choosePath(link.path)">
                                <i ng-show="link.icon" class="icon {{ link.icon }}"></i>
                                {{ link | linkTitle }}
                            </a>
                            <span ng-show="config.showTranslationEditor"
                                  ng-click="openLabelDialog(link)"
                                  tooltip="Click to translate"
                                  tooltip-placement="right"
                                  class="badge badge-warning btn-i18n">
                                <i class="icon-translate icon-white"></i>
                            </span>
                        </li>
                    </ul>

                    <ul class="nav nav-pills nav-stacked main-menu" ng-show="user.god">
                        <li ng-repeat="link in mainMenuShared" ng-class="{ active: link.active }">
                            <a href ng-click="choosePath(link.path)">
                                <i ng-show="link.icon" class="icon {{ link.icon }}"></i>
                                {{ link | linkTitle }}
                            </a>
                            <span ng-show="config.showTranslationEditor"
                                  ng-click="openLabelDialog(link)"
                                  tooltip="Click to translate"
                                  tooltip-placement="right"
                                  class="badge badge-warning btn-i18n">
                                <i class="icon-translate icon-white"></i>
                            </span>
                        </li>
                    </ul>
                    <ul class="nav nav-pills nav-stacked main-menu">
                        <li ng-show="recent.length > 0" class="nav-header" i18n="RecentDocuments"><span class="i18n"/>
                        </li>
                        <li ng-repeat="link in recent" ng-class="{ active: link.active }">
                            <a href ng-click="choosePath(link.path)">
                                <i class="icon-leaf"></i>
                                {{ link | linkTitle }}
                            </a>
                        </li>
                    </ul>
                </div>
                <!--/.sidebar-nav -->
                <div ng-include="getInclude()"></div>
            </div>
        </div>
        <div class="row-fluid">
            <div id="mainBody">
                <div ng-view id="view"><!-- Angular views are rendered here --></div>
            </div>
        </div>
    </div>
</div>
<!-- // APPLICATION CONTAINER -->

<!-- build:js scripts/scripts.js -->
 <script src="components/jquery/jquery.min.js"></script>
<script src="components/angular/angular.js"></script>
<script src="components/underscore/underscore.js"></script>
<script src="components/angular-cookies/angular-cookies.js"></script>
<script src="components/x2js/xml2json.js"></script>
<!--todo: note that gerald@delving.eu has modified this file:-->
<script src="components/bootstrap/js/bootstrap-alert.js"></script>
<script src="components/angular-bootstrap/ui-bootstrap.js"></script>
<!-- endbuild -->

<!-- build:js scripts/oscr.js -->
<script src="scripts/app.js"></script>
<script src="scripts/controllers/home.js"></script>
<script src="scripts/controllers/people.js"></script>
<script src="scripts/controllers/global.js"></script>
<script src="scripts/controllers/i18n.js"></script>
<script src="scripts/controllers/dashboard.js"></script>
<script src="scripts/controllers/document-list.js"></script>
<script src="scripts/controllers/document-edit.js"></script>
<script src="scripts/controllers/media.js"></script>
<script src="scripts/controllers/element-edit.js"></script>
<script src="scripts/controllers/vocabulary-edit.js"></script>
<script src="scripts/controllers/user-view.js"></script>
<script src="scripts/controllers/group-view.js"></script>
<script src="scripts/controllers/lang-edit.js"></script>
<script src="scripts/services/statistics-service.js"></script>
<script src="scripts/services/person-service.js"></script>
<script src="scripts/services/i18n-service.js"></script>
<script src="scripts/services/vocabulary-service.js"></script>
<script src="scripts/services/document-service.js"></script>
<script src="scripts/validator.js"></script>
<script src="scripts/xml-ops.js"></script>
<script src="components/angularjs-gravatar/src/gravatar-directive.js"></script>
<script src="components/angularjs-gravatar/src/md5-service.js"></script>
<!-- endbuild -->

<!-- build:js scripts/fileupload.js -->
<!-- fileupload -->
<script src="components/blueimp-load-image/js/load-image.min.js"></script>
<script src="components/blueimp-file-upload/js/vendor/jquery.ui.widget.js"></script>
<script src="components/blueimp-file-upload/js/jquery.iframe-transport.js"></script>
<script src="components/blueimp-file-upload/js/jquery.fileupload.js"></script>
<script src="components/blueimp-file-upload/js/jquery.fileupload-process.js"></script>
<script src="components/blueimp-file-upload/js/jquery.fileupload-image.js"></script>
<script src="components/blueimp-file-upload/js/jquery.fileupload-video.js"></script>
<script src="components/blueimp-file-upload/js/jquery.fileupload-validate.js"></script>
<script src="components/blueimp-file-upload/js/jquery.fileupload-angular.js"></script>
<!-- endbuild -->
</body>
</html>